import{i as B,u as D,j as F,G as _,n as E,p as $,o,c as l,a as r,w as p,s as u,e as i,J as x,x as w,F as V,v as y,t as b,g as L,E as M}from"./index.5992d142.js";import{c as m,r as N,a as S,m as k,u as A}from"./index.esm.1452a4c4.js";import{a as j,A as q}from"./config.83aa1e66.js";import{s as I}from"./button.esm.3357f3a0.js";import{s as R,a as U}from"./card.esm.ad85cb75.js";const z={class:"flex w-full h-screen surface-100 justify-content-center align-items-center"},G=i("div",{class:"flex justify-content-between"},"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0447\u0430\u0442\u0430",-1),J={class:"flex flex-column gap-4"},P=M(" \u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u0435 \u043F\u043E\u043B\u044F \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0447\u0430\u0442 "),T={class:"field"},Y=B({__name:"NewChat",setup(H){const c=D(),f=F(),d=_({title:""}),h={title:{required:m.withMessage("\u041F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F",N),minLength:m.withMessage(({$params:t})=>`\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0430\u044F \u0434\u043B\u0438\u043D\u0430: ${t.min} \u0441\u0438\u043C.`,S(2)),maxLength:m.withMessage(({$params:t})=>`\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0430\u044F \u0434\u043B\u0438\u043D\u0430: ${t.max} \u0441\u0438\u043C.`,k(15))}},n=E(!1),e=A(h,d),v=()=>f.push({name:"signin.home"}),C=async t=>{e.value.$validate(),n.value=!0,t&&await j.post(`${q}/chats/`,{title:d.title,owner:c.state.app.name})};return $(()=>{c.state.signin.signed===!1&&v()}),(t,s)=>(o(),l("div",z,[r(u(R),null,{title:p(()=>[G]),content:p(()=>[i("div",J,[P,i("form",{onSubmit:s[1]||(s[1]=x(a=>C(!u(e).$invalid),["prevent"])),class:"p-fluid"},[i("div",T,[r(u(U),{id:"title",modelValue:u(e).title.$model,"onUpdate:modelValue":s[0]||(s[0]=a=>u(e).title.$model=a),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",class:w({"p-invalid":u(e).title.$invalid&&n.value})},null,8,["modelValue","class"]),u(e).title.$invalid&&n.value?(o(!0),l(V,{key:0},y(u(e).title.$errors,(a,g)=>(o(),l("small",{key:g,class:"p-error"},b(a.$message),1))),128)):L("",!0)]),r(u(I),{type:"submit",label:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",class:"mt-2"})],32)])]),_:1})]))}});export{Y as default};
